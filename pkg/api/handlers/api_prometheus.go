/*
 * Veritone Build and Release API
 *
 * Build and release API for Veritone
 *
 * API version: 1.0.0
 * Contact: apiteam@swagger.io
 * Generated by: Swagger Codegen (https://github.com/swagger-api/swagger-codegen.git)
 */

package handlers

import (
	"net/http"

	"github.com/aeekayy/go-api-base/pkg/metrics"
	"github.com/prometheus/client_golang/prometheus/promhttp"
)

// PrometheusHandler is an HTTP handle for serving metric data
type PrometheusHandler struct {
	Path    string
	Handle  http.HandlerFunc
	Metrics *metrics.Metrics
}

// NewPrometheusHandler is a factory function creating a new Metrics instance
func NewPrometheusHandler() *PrometheusHandler {
	m := metrics.Default()
	handler := promhttp.Handler()

	return &PrometheusHandler{
		Path:    "/v1/metrics",
		Handle:  handler.ServeHTTP,
		Metrics: m,
	}
}
